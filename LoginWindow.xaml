<Window x:Class="CommunicationAssistantPro.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Defaults.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    
    <materialDesign:DialogHost Identifier="RootDialog">
        <Grid Background="{StaticResource PrimaryBrush}">
            
            <!-- Center panel -->
            <Grid HorizontalAlignment="Center" VerticalAlignment="Center" Width="450" MinHeight="600" MaxHeight="700">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <!-- Logo and Title -->
                <StackPanel Grid.Row="0" Orientation="Vertical" HorizontalAlignment="Center" Margin="0,40,0,30">
                    <materialDesign:PackIcon Kind="Phone" 
                                            Width="80" Height="80" 
                                            Foreground="White" 
                                            HorizontalAlignment="Center"/>
                    <TextBlock Text="call center - basra delight" 
                              FontSize="24" FontWeight="Bold" 
                              Foreground="White" 
                              HorizontalAlignment="Center" 
                              Margin="0,10,0,0"
                              FontFamily="Tajawal"/>
                    <TextBlock Text="نظام الاتصالات المتكامل" 
                              FontSize="16" 
                              Foreground="White" 
                              HorizontalAlignment="Center" 
                              Margin="0,5,0,0"
                              FontFamily="Tajawal"/>
                    <TextBlock Text="Basra Delight Group - البصرة، العراق" 
                              FontSize="12" 
                              Foreground="#E0E0E0" 
                              HorizontalAlignment="Center" 
                              Margin="0,5,0,0"
                              FontFamily="Tajawal"/>
                </StackPanel>
                
                <!-- Login Form -->
                <materialDesign:Card Grid.Row="1" 
                                   Width="420" MinHeight="350" MaxHeight="450"
                                   UniformCornerRadius="15" 
                                   Background="White" 
                                   materialDesign:ElevationAssist.Elevation="Dp12"
                                   Padding="30,25,30,25">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Username Field -->
                        <TextBox Grid.Row="0" 
                               x:Name="UsernameTextBox"
                               materialDesign:HintAssist.Hint="اسم المستخدم / رقم الموظف"
                               Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                               FontSize="16"
                               Margin="0,0,0,15">
                            <TextBox.Text>
                                <Binding Path="Username" UpdateSourceTrigger="PropertyChanged">
                                    <Binding.ValidationRules>
                                        <DataErrorValidationRule/>
                                    </Binding.ValidationRules>
                                </Binding>
                            </TextBox.Text>
                        </TextBox>
                        
                        <!-- Password Field -->
                        <PasswordBox Grid.Row="1"
                                   x:Name="PasswordBox"
                                   materialDesign:HintAssist.Hint="كلمة المرور"
                                   Style="{StaticResource MaterialDesignFloatingHintPasswordBox}"
                                   FontSize="16"
                                   Margin="0,0,0,15">
                        </PasswordBox>
                        
                        <!-- Extension Field -->
                        <TextBox Grid.Row="2"
                               x:Name="ExtensionTextBox"
                               materialDesign:HintAssist.Hint="الامتداد الداخلي (اختياري)"
                               Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                               FontSize="16"
                               Margin="0,0,0,15">
                            <TextBox.Text>
                                <Binding Path="Extension" UpdateSourceTrigger="PropertyChanged">
                                    <Binding.ValidationRules>
                                        <DataErrorValidationRule/>
                                    </Binding.ValidationRules>
                                </Binding>
                            </TextBox.Text>
                        </TextBox>
                        
                        <!-- Remember Me -->
                        <CheckBox Grid.Row="3"
                                x:Name="RememberMeCheckBox"
                                Content="تذكرني في المرة القادمة"
                                FontSize="14"
                                Margin="0,0,0,12"
                                IsChecked="{Binding RememberMe}"/>
                        
                        <!-- Status Message -->
                        <TextBlock Grid.Row="4"
                                 x:Name="StatusTextBlock"
                                 Foreground="{StaticResource AccentBrush}"
                                 FontSize="14"
                                 TextWrapping="Wrap"
                                 HorizontalAlignment="Center"
                                 Margin="0,8,0,12"
                                 Visibility="Collapsed"/>
                        
                        <!-- Login Button -->
                        <Button Grid.Row="5"
                              x:Name="LoginButton"
                              Content="تسجيل الدخول"
                              Style="{StaticResource MaterialDesignRaisedButton}"
                              FontSize="16"
                              FontWeight="Bold"
                              Height="50"
                              Margin="0,8,0,12"
                              IsEnabled="{Binding IsNotBusy}"
                              Command="{Binding LoginCommand}">
                            <Button.Background>
                                <SolidColorBrush Color="#0057B7"/>
                            </Button.Background>
                            <Button.Effect>
                                <DropShadowEffect Color="#0057B7" Direction="315" ShadowDepth="2" Opacity="0.3"/>
                            </Button.Effect>
                        </Button>
                        
                        <!-- Settings Button -->
                        <Button Grid.Row="6"
                              Content="الإعدادات"
                              Style="{StaticResource MaterialDesignOutlinedButton}"
                              FontSize="14"
                              Height="38"
                              Margin="0,0,0,5"
                              Command="{Binding OpenSettingsCommand}">
                        </Button>
                    </Grid>
                </materialDesign:Card>
                
                <!-- Footer -->
                <TextBlock Grid.Row="3"
                         Text="© 2025 Basra Delight Group - جميع الحقوق محفوظة"
                         FontSize="12"
                         Foreground="White"
                         HorizontalAlignment="Center"
                         Margin="0,30,0,0"
                         FontFamily="Tajawal"/>
            </Grid>
        </Grid>
    </materialDesign:DialogHost>
</Window>